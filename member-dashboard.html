<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Member Dashboard ‚Äî FWF</title>
  <link rel="icon" type="image/png" href="assets/images/logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
  <style>
/* ==============================
   CSS VARIABLES
   ============================== */
:root {
  --bg-1:#f0f2f8; --bg-2:#e8ecf4;
  --accent:#6366f1; --accent2:#ec4899; --accent-soft:rgba(99,102,241,.1);
  --sidebar-bg:linear-gradient(180deg,#0f172a 0%,#1e293b 100%);
  --sidebar-text:#94a3b8;
  --card-bg:#ffffff; --card-border:#e2e8f0;
  --text-primary:#0f172a; --text-secondary:#475569; --text-muted:#94a3b8;
  --success:#22c55e; --warning:#f59e0b; --danger:#ef4444; --info:#3b82f6;
}

*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Plus Jakarta Sans',system-ui,sans-serif;
  background:var(--bg-1);
  min-height:100vh; color:var(--text-primary);
  display:flex;
}
a{color:inherit;text-decoration:none}

/* ==============================
   SIDEBAR
   ============================== */
.sidebar{
  position:fixed; left:0; top:0; bottom:0; width:260px; z-index:100;
  background:var(--sidebar-bg);
  display:flex; flex-direction:column;
  padding:20px 14px 14px;
  transition:transform .3s ease;
}
.sidebar-brand{
  display:flex; align-items:center; gap:12px;
  padding:4px 10px 20px; border-bottom:1px solid rgba(255,255,255,.08);
  margin-bottom:14px;
}
.sidebar-brand img{ width:40px; height:40px; border-radius:10px; }
.sidebar-brand span{ font-size:18px; font-weight:900; color:#fff; }
.sidebar-brand small{ display:block; font-size:11px; color:#22c55e; font-weight:700; margin-top:2px; }
.sidebar-nav{ flex:1; display:flex; flex-direction:column; gap:3px; overflow-y:auto; }
.nav-item{
  display:flex; align-items:center; gap:12px;
  padding:11px 14px; border-radius:10px;
  font-size:13px; font-weight:700;
  color:var(--sidebar-text); opacity:.7;
  cursor:pointer; transition:all .2s;
  border:none; background:none; width:100%; text-align:left;
  font-family:inherit;
}
.nav-item:hover{ opacity:1; background:rgba(255,255,255,.06); }
.nav-item.active{
  opacity:1; background:rgba(99,102,241,.15); color:#818cf8;
  box-shadow:inset 3px 0 0 #6366f1;
}
.nav-item i{ width:18px; text-align:center; font-size:14px; }
.nav-badge{
  margin-left:auto; background:#ef4444; color:#fff;
  padding:2px 7px; border-radius:99px; font-size:10px; font-weight:800;
}
.nav-divider{
  font-size:10px; font-weight:800; color:rgba(255,255,255,.25);
  text-transform:uppercase; letter-spacing:1px;
  padding:16px 14px 6px; user-select:none;
}
.sidebar-footer{
  border-top:1px solid rgba(255,255,255,.08);
  padding-top:12px; margin-top:auto;
}
.nav-item.logout-btn{ color:#f87171; opacity:.9; }

/* ==============================
   MOBILE
   ============================== */
.mobile-toggle{
  display:none; position:fixed; top:14px; left:14px; z-index:200;
  width:42px; height:42px; border-radius:10px;
  background:#fff; border:1px solid var(--card-border);
  box-shadow:0 4px 12px rgba(0,0,0,.06);
  font-size:16px; cursor:pointer; color:var(--text-primary);
  font-family:inherit;
}
.mobile-overlay{
  display:none; position:fixed; inset:0; z-index:90;
  background:rgba(0,0,0,.4); backdrop-filter:blur(4px);
}

/* ==============================
   MAIN
   ============================== */
.main{
  flex:1; margin-left:260px;
  padding:20px 28px;
  min-height:100vh;
}

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:24px; flex-wrap:wrap; gap:14px;
}
.topbar h1{
  font-size:24px; font-weight:900; letter-spacing:-.5px;
}
.topbar-right{ display:flex; align-items:center; gap:10px; }
.member-badge{
  display:inline-flex; align-items:center; gap:6px;
  background:linear-gradient(135deg,#22c55e,#059669);
  color:#fff; padding:6px 14px; border-radius:99px;
  font-size:12px; font-weight:800;
}

/* ==============================
   PAGES
   ============================== */
.page{ display:none; animation:fadeIn .3s ease; }
.page.active{ display:block; }
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

/* ==============================
   STAT CARDS
   ============================== */
.stats-row{
  display:grid; grid-template-columns:repeat(4,1fr); gap:16px;
  margin-bottom:24px;
}
.stat-card{
  background:var(--card-bg); border:1px solid var(--card-border);
  border-radius:16px; padding:20px;
  box-shadow:0 2px 8px rgba(0,0,0,.03);
  transition:transform .2s, box-shadow .2s;
  position:relative; overflow:hidden;
}
.stat-card:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(0,0,0,.06); }
.stat-card .s-icon{
  width:40px; height:40px; border-radius:10px;
  display:flex; align-items:center; justify-content:center;
  font-size:18px; margin-bottom:12px; color:#fff;
}
.stat-card .s-label{
  font-size:11px; font-weight:700; color:var(--text-muted);
  text-transform:uppercase; letter-spacing:.5px; margin-bottom:4px;
}
.stat-card .s-value{
  font-size:26px; font-weight:900; color:var(--text-primary);
  letter-spacing:-.5px;
}
.stat-card .s-sub{ font-size:11px; color:var(--text-secondary); margin-top:2px; font-weight:600; }
.s-purple{ background:linear-gradient(135deg,#6366f1,#8b5cf6); }
.s-green{ background:linear-gradient(135deg,#22c55e,#059669); }
.s-blue{ background:linear-gradient(135deg,#3b82f6,#2563eb); }
.s-amber{ background:linear-gradient(135deg,#f59e0b,#d97706); }
.s-pink{ background:linear-gradient(135deg,#ec4899,#be185d); }
.s-red{ background:linear-gradient(135deg,#ef4444,#dc2626); }
.s-cyan{ background:linear-gradient(135deg,#06b6d4,#0891b2); }
.s-teal{ background:linear-gradient(135deg,#14b8a6,#0d9488); }

/* ==============================
   CONTENT CARD
   ============================== */
.content-card{
  background:var(--card-bg); border:1px solid var(--card-border);
  border-radius:16px; padding:22px;
  box-shadow:0 2px 8px rgba(0,0,0,.03);
  margin-bottom:18px;
}
.content-card h3{
  font-size:16px; font-weight:800; margin-bottom:14px;
  display:flex; align-items:center; gap:8px;
}
.content-card h3 i{ color:var(--accent); font-size:14px; }

/* ==============================
   GRIDS
   ============================== */
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:18px; }
.grid-3{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:18px; }

/* ==============================
   TABLE
   ============================== */
.data-table{ width:100%; border-collapse:collapse; }
.data-table th{
  text-align:left; font-size:10px; font-weight:700;
  color:var(--text-muted); text-transform:uppercase; letter-spacing:.5px;
  padding:8px 12px; border-bottom:2px solid var(--card-border);
  white-space:nowrap;
}
.data-table td{
  padding:10px 12px; border-bottom:1px solid #f1f5f9;
  font-size:13px; font-weight:600; color:var(--text-secondary);
}
.data-table tr:hover td{ background:#f8faff; }
.data-table tr:last-child td{ border-bottom:0; }
.badge{
  display:inline-flex; padding:3px 9px; border-radius:99px;
  font-size:10px; font-weight:800; white-space:nowrap;
}
.b-active{ background:#dcfce7; color:#166534; }
.b-inactive{ background:#fee2e2; color:#991b1b; }
.b-open{ background:#dbeafe; color:#1e40af; }
.b-progress{ background:#fef3c7; color:#92400e; }
.b-resolved{ background:#d1fae5; color:#065f46; }
.b-closed{ background:#e2e8f0; color:#475569; }
.b-pending{ background:#fff7ed; color:#9a3412; }

/* ==============================
   FORMS
   ============================== */
.form-group{ margin-bottom:14px; }
.form-group label{
  display:block; font-size:12px; font-weight:700;
  color:var(--text-secondary); margin-bottom:4px;
}
.form-input{
  width:100%; padding:10px 14px;
  border:2px solid var(--card-border); border-radius:10px;
  background:#fff; color:var(--text-primary);
  font:inherit; font-size:13px; font-weight:600;
  transition:border-color .2s;
}
.form-input:focus{
  outline:none; border-color:var(--accent);
  box-shadow:0 0 0 3px var(--accent-soft);
}
.form-row{ display:flex; gap:12px; flex-wrap:wrap; }
.form-row .form-group{ flex:1; min-width:180px; }
select.form-input{
  appearance:none; cursor:pointer;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="%2394a3b8" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>');
  background-repeat:no-repeat; background-position:right 12px center;
  padding-right:36px;
}
textarea.form-input{ resize:vertical; min-height:80px; }

/* ==============================
   BUTTONS
   ============================== */
.btn{
  padding:8px 18px; border:none; border-radius:10px;
  font:inherit; font-size:12px; font-weight:800;
  cursor:pointer; display:inline-flex; align-items:center; gap:6px;
  transition:all .2s;
}
.btn-primary{ background:var(--accent); color:#fff; }
.btn-primary:hover{ background:#4f46e5; }
.btn-success{ background:var(--success); color:#fff; }
.btn-danger{ background:var(--danger); color:#fff; }
.btn-warning{ background:var(--warning); color:#fff; }
.btn-ghost{
  background:transparent; color:var(--text-secondary);
  border:1px solid var(--card-border);
}
.btn-ghost:hover{ background:#f1f5f9; }
.btn-sm{ padding:5px 10px; font-size:11px; border-radius:8px; }
.btn-icon{
  width:32px; height:32px; border-radius:8px; padding:0;
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid var(--card-border); background:#fff;
  cursor:pointer; transition:.2s; font-size:13px; color:var(--text-secondary);
}
.btn-icon:hover{ background:#f1f5f9; }

/* ==============================
   WELCOME BANNER
   ============================== */
.welcome-banner{
  background:linear-gradient(135deg,#6366f1,#8b5cf6,#ec4899);
  border-radius:20px; padding:32px; color:#fff;
  margin-bottom:24px; position:relative; overflow:hidden;
}
.welcome-banner::after{
  content:''; position:absolute; right:-40px; top:-40px;
  width:200px; height:200px; border-radius:50%;
  background:rgba(255,255,255,.08);
}
.welcome-banner h2{ font-size:28px; font-weight:900; margin-bottom:6px; }
.welcome-banner p{ opacity:.85; font-weight:600; font-size:14px; }
.welcome-banner .wid{ 
  display:inline-flex; align-items:center; gap:8px;
  background:rgba(255,255,255,.2); padding:6px 16px; border-radius:99px;
  font-size:13px; font-weight:800; margin-top:12px; backdrop-filter:blur(4px);
}

/* ==============================
   PROFILE CARD
   ============================== */
.profile-header{
  display:flex; align-items:center; gap:20px;
  margin-bottom:20px; padding-bottom:20px;
  border-bottom:1px solid var(--card-border);
}
.profile-avatar{
  width:80px; height:80px; border-radius:50%;
  background:linear-gradient(135deg,#6366f1,#ec4899);
  color:#fff; display:flex; align-items:center; justify-content:center;
  font-size:32px; font-weight:900; flex-shrink:0;
}
.profile-name{ font-size:24px; font-weight:900; }
.profile-id{ color:var(--accent); font-weight:700; font-size:14px; margin-top:2px; }
.profile-meta{ display:flex; gap:20px; flex-wrap:wrap; margin-top:8px; }
.profile-meta span{
  font-size:12px; color:var(--text-muted); font-weight:600;
  display:flex; align-items:center; gap:4px;
}

/* ==============================
   ACTIVITY FEED
   ============================== */
.feed-card{
  background:var(--card-bg); border:1px solid var(--card-border);
  border-radius:16px; padding:20px 22px; margin-bottom:14px;
  transition:box-shadow .2s;
}
.feed-card:hover{ box-shadow:0 4px 16px rgba(0,0,0,.06); }
.feed-header{
  display:flex; align-items:center; gap:12px; margin-bottom:12px;
}
.feed-avatar{
  width:40px; height:40px; border-radius:50%;
  background:linear-gradient(135deg,#6366f1,#8b5cf6);
  color:#fff; display:flex; align-items:center; justify-content:center;
  font-size:14px; font-weight:900;
}
.feed-name{ font-weight:800; font-size:14px; }
.feed-time{ font-size:11px; color:var(--text-muted); font-weight:600; }
.feed-body{ font-size:14px; line-height:1.7; color:var(--text-secondary); margin-bottom:12px; }
.feed-image{
  width:100%; border-radius:12px; max-height:320px;
  object-fit:cover; margin-bottom:12px;
}
.feed-actions{
  display:flex; gap:16px;
}
.feed-actions button{
  background:none; border:none; cursor:pointer;
  font:inherit; font-size:13px; font-weight:700;
  color:var(--text-muted); display:flex; align-items:center; gap:6px;
  transition:color .2s;
}
.feed-actions button:hover{ color:var(--accent); }

/* ==============================
   COURSE CARD
   ============================== */
.course-card{
  background:var(--card-bg); border:1px solid var(--card-border);
  border-radius:16px; overflow:hidden;
  transition:transform .2s, box-shadow .2s;
}
.course-card:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(0,0,0,.06); }
.course-thumb{
  height:140px; background:linear-gradient(135deg,#6366f1,#8b5cf6);
  display:flex; align-items:center; justify-content:center;
  font-size:48px; color:rgba(255,255,255,.3);
}
.course-info{ padding:16px; }
.course-info h4{ font-size:14px; font-weight:800; margin-bottom:6px; }
.course-info p{ font-size:12px; color:var(--text-muted); font-weight:600; margin-bottom:10px; }
.course-progress{
  height:6px; background:#e2e8f0; border-radius:99px; overflow:hidden;
}
.course-progress-bar{
  height:100%; background:linear-gradient(90deg,#6366f1,#22c55e);
  border-radius:99px; transition:width .5s;
}
.course-status{
  display:flex; justify-content:space-between; align-items:center;
  margin-top:8px; font-size:11px; font-weight:700;
}

/* ==============================
   REDEEM CARD
   ============================== */
.redeem-card{
  background:var(--card-bg); border:1px solid var(--card-border);
  border-radius:16px; padding:20px; text-align:center;
  transition:transform .2s, box-shadow .2s;
}
.redeem-card:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(0,0,0,.06); }
.redeem-icon{
  width:56px; height:56px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-size:24px; color:#fff; margin:0 auto 12px;
}
.redeem-card h4{ font-size:14px; font-weight:800; margin-bottom:4px; }
.redeem-card p{ font-size:12px; color:var(--text-muted); font-weight:600; margin-bottom:12px; }
.redeem-cost{ font-size:13px; font-weight:800; color:var(--accent); margin-bottom:8px; }

/* ==============================
   PRODUCT CARD (Marketplace)
   ============================== */
.product-card{
  background:var(--card-bg); border:1px solid var(--card-border);
  border-radius:16px; overflow:hidden;
  transition:transform .2s, box-shadow .2s;
}
.product-card:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(0,0,0,.06); }
.product-thumb{
  height:160px; background:#f1f5f9;
  display:flex; align-items:center; justify-content:center;
  font-size:48px; color:var(--text-muted); opacity:.3;
}
.product-info{ padding:14px; }
.product-info h4{ font-size:14px; font-weight:800; margin-bottom:4px; }
.product-info .seller{ font-size:11px; color:var(--text-muted); font-weight:600; margin-bottom:6px; }
.product-price{ font-size:18px; font-weight:900; color:var(--accent); }
.product-rating{ font-size:12px; color:#f59e0b; margin-top:4px; }

/* ==============================
   EVENT CARD
   ============================== */
.event-card{
  display:flex; gap:16px; align-items:center;
  background:var(--card-bg); border:1px solid var(--card-border);
  border-radius:14px; padding:16px 18px; margin-bottom:10px;
  transition:box-shadow .2s;
}
.event-card:hover{ box-shadow:0 4px 16px rgba(0,0,0,.06); }
.event-date{
  width:54px; height:54px; border-radius:12px;
  background:linear-gradient(135deg,var(--accent),#8b5cf6);
  color:#fff; display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  flex-shrink:0;
}
.event-date .day{ font-size:20px; font-weight:900; line-height:1; }
.event-date .month{ font-size:10px; font-weight:700; text-transform:uppercase; }
.event-info h4{ font-size:14px; font-weight:800; margin-bottom:2px; }
.event-info p{ font-size:12px; color:var(--text-muted); font-weight:600; }

/* ==============================
   TABS
   ============================== */
.tab-bar{
  display:flex; gap:6px; margin-bottom:16px;
  border-bottom:2px solid var(--card-border);
}
.tab-btn{
  padding:8px 16px; border:none; background:none;
  font:inherit; font-size:12px; font-weight:800;
  color:var(--text-muted); cursor:pointer;
  border-bottom:2px solid transparent;
  margin-bottom:-2px; transition:.2s;
}
.tab-btn:hover{ color:var(--text-primary); }
.tab-btn.active{ color:var(--accent); border-bottom-color:var(--accent); }
.tab-content{ display:none; }
.tab-content.active{ display:block; }

/* ==============================
   MODAL
   ============================== */
.modal-overlay{
  position:fixed; inset:0; z-index:999;
  background:rgba(15,23,42,.5); backdrop-filter:blur(6px);
  display:flex; align-items:center; justify-content:center;
  padding:20px; animation:fadeIn .2s;
}
.modal-overlay.hidden{ display:none; }
.modal-card{
  background:#fff; border-radius:18px;
  max-width:640px; width:100%; padding:28px;
  box-shadow:0 24px 60px rgba(0,0,0,.2);
  max-height:85vh; overflow-y:auto;
  animation:scaleIn .3s cubic-bezier(.34,1.56,.64,1);
}
@keyframes scaleIn{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}
.modal-head{
  display:flex; justify-content:space-between; align-items:center;
  margin-bottom:18px;
}
.modal-head h3{ font-size:18px; font-weight:900; display:flex; align-items:center; gap:8px; }
.modal-head h3 i{ color:var(--accent); }
.modal-close{
  width:34px; height:34px; border-radius:10px;
  border:1px solid var(--card-border); background:#fff;
  cursor:pointer; font-size:14px; display:grid; place-items:center;
  transition:.2s;
}
.modal-close:hover{ background:#f1f5f9; }
.modal-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:18px; }

/* ==============================
   SELLER PANEL
   ============================== */
.seller-stat{
  text-align:center; padding:16px;
}
.seller-stat .val{ font-size:28px; font-weight:900; color:var(--text-primary); }
.seller-stat .lbl{ font-size:11px; font-weight:700; color:var(--text-muted); text-transform:uppercase; margin-top:2px; }

/* ==============================
   RESPONSIVE
   ============================== */
@media(max-width:1100px){
  .stats-row{ grid-template-columns:repeat(2,1fr); }
  .grid-3{ grid-template-columns:1fr 1fr; }
}
@media(max-width:900px){
  .sidebar{ transform:translateX(-100%); }
  .sidebar.open{ transform:translateX(0); }
  .main{ margin-left:0; padding:16px; padding-top:60px; }
  .mobile-toggle{ display:grid; place-items:center; }
  .mobile-overlay.show{ display:block; }
}
@media(max-width:640px){
  .stats-row{ grid-template-columns:1fr; }
  .grid-2,.grid-3{ grid-template-columns:1fr; }
  .form-row{ flex-direction:column; }
  .topbar{ flex-direction:column; align-items:flex-start; }
  .topbar h1{ font-size:20px; }
  .welcome-banner h2{ font-size:22px; }
  .profile-header{ flex-direction:column; text-align:center; }
  .profile-meta{ justify-content:center; }
  .tab-bar{ overflow-x:auto; }
}
.table-wrap{ overflow-x:auto; }
  </style>
</head>
<body>

<!-- Mobile toggle -->
<button class="mobile-toggle" id="mobileToggle"><i class="fa-solid fa-bars"></i></button>
<div class="mobile-overlay" id="mobileOverlay"></div>

<!-- ======== SIDEBAR ======== -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-brand">
    <img src="assets/images/logo.png" alt="FWF">
    <div>
      <span>FWF</span>
      <small>MEMBER PANEL</small>
    </div>
  </div>
  <nav class="sidebar-nav">
    <button class="nav-item active" data-page="home">
      <i class="fa-solid fa-house"></i> Dashboard
    </button>

    <div class="nav-divider">Membership</div>
    <button class="nav-item" data-page="profile">
      <i class="fa-solid fa-id-card"></i> Profile & ID Card
    </button>

    <div class="nav-divider">Engage</div>
    <button class="nav-item" data-page="feed">
      <i class="fa-solid fa-camera"></i> Social Work Feed
    </button>
    <button class="nav-item" data-page="training">
      <i class="fa-solid fa-graduation-cap"></i> Training & Courses
    </button>

    <div class="nav-divider">Rewards</div>
    <button class="nav-item" data-page="wallet">
      <i class="fa-solid fa-wallet"></i> Rewards Wallet
    </button>
    <button class="nav-item" data-page="redeem">
      <i class="fa-solid fa-gift"></i> Redeem Points
    </button>

    <div class="nav-divider">Marketplace</div>
    <button class="nav-item" data-page="marketplace">
      <i class="fa-solid fa-store"></i> Marketplace
    </button>
    <button class="nav-item" data-page="seller">
      <i class="fa-solid fa-boxes-stacked"></i> Seller Panel
    </button>

    <div class="nav-divider">More</div>
    <button class="nav-item" data-page="events">
      <i class="fa-solid fa-calendar-days"></i> Events & Activities
    </button>
    <button class="nav-item" data-page="support">
      <i class="fa-solid fa-headset"></i> Help & Support
    </button>
  </nav>
  <div class="sidebar-footer">
    <button class="nav-item logout-btn" id="logoutBtn">
      <i class="fa-solid fa-right-from-bracket"></i> Logout
    </button>
  </div>
</aside>

<!-- ======== MAIN ======== -->
<main class="main">
  <div class="topbar">
    <h1 id="pageTitle"><i class="fa-solid fa-house"></i> Dashboard</h1>
    <div class="topbar-right">
      <span class="member-badge" id="memberBadge"><i class="fa-solid fa-circle-check"></i> Member</span>
    </div>
  </div>

  <!-- ===================== HOME / DASHBOARD ===================== -->
  <div class="page active" id="page-home">
    <div class="welcome-banner" id="welcomeBanner">
      <h2 id="welcomeName">Welcome Back!</h2>
      <p>Empowering women through skills, welfare & self-employment.</p>
      <div class="wid"><i class="fa-solid fa-id-badge"></i> <span id="welcomeId">FWF-000000</span></div>
    </div>

    <div class="stats-row">
      <div class="stat-card">
        <div class="s-icon s-purple"><i class="fa-solid fa-star"></i></div>
        <div class="s-label">Total Points</div>
        <div class="s-value" id="hPoints">0</div>
      </div>
      <div class="stat-card">
        <div class="s-icon s-green"><i class="fa-solid fa-wallet"></i></div>
        <div class="s-label">Wallet Balance</div>
        <div class="s-value" id="hWallet">‚Çπ0</div>
      </div>
      <div class="stat-card">
        <div class="s-icon s-blue"><i class="fa-solid fa-user-plus"></i></div>
        <div class="s-label">Referrals</div>
        <div class="s-value" id="hReferrals">0</div>
      </div>
      <div class="stat-card">
        <div class="s-icon s-amber"><i class="fa-solid fa-hand-holding-heart"></i></div>
        <div class="s-label">Donations Collected</div>
        <div class="s-value" id="hDonations">‚Çπ0</div>
      </div>
    </div>

    <div class="grid-2">
      <div class="content-card">
        <h3><i class="fa-solid fa-chart-line"></i> Quick Actions</h3>
        <div style="display:flex;flex-wrap:wrap;gap:10px">
          <button class="btn btn-primary" onclick="switchPage('wallet')"><i class="fa-solid fa-coins"></i> Earn Points</button>
          <button class="btn btn-success" onclick="switchPage('training')"><i class="fa-solid fa-graduation-cap"></i> Start Course</button>
          <button class="btn btn-warning" onclick="switchPage('marketplace')"><i class="fa-solid fa-store"></i> Marketplace</button>
          <button class="btn btn-ghost" onclick="switchPage('support')"><i class="fa-solid fa-headset"></i> Help</button>
        </div>
      </div>
      <div class="content-card">
        <h3><i class="fa-solid fa-clock"></i> Recent Activity</h3>
        <div id="homeActivity">
          <div class="empty-state"><p>No recent activity</p></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== PROFILE & ID CARD ===================== -->
  <div class="page" id="page-profile">
    <div class="content-card">
      <div class="profile-header">
        <div class="profile-avatar" id="profileAvatar">M</div>
        <div>
          <div class="profile-name" id="profileName">Member</div>
          <div class="profile-id" id="profileId">FWF-000000</div>
          <div class="profile-meta">
            <span><i class="fa-solid fa-phone"></i> <span id="profileMobile">‚Äî</span></span>
            <span><i class="fa-solid fa-envelope"></i> <span id="profileEmail">‚Äî</span></span>
            <span><i class="fa-solid fa-calendar"></i> Joined <span id="profileJoined">‚Äî</span></span>
          </div>
        </div>
      </div>

      <div class="grid-2">
        <div>
          <h3 style="font-size:15px;font-weight:800;margin-bottom:12px"><i class="fa-solid fa-circle-check" style="color:var(--success)"></i> Membership Status</h3>
          <div class="stat-card" style="margin-bottom:12px">
            <div class="s-label">Status</div>
            <div id="profileStatus" style="font-weight:800;font-size:16px;color:var(--success)">Active</div>
          </div>
        </div>
        <div>
          <h3 style="font-size:15px;font-weight:800;margin-bottom:12px"><i class="fa-solid fa-pen" style="color:var(--accent)"></i> Update Profile</h3>
          <div class="form-group">
            <label>Display Name</label>
            <input type="text" class="form-input" id="editName" placeholder="Your name">
          </div>
          <div class="form-group">
            <label>Bio</label>
            <textarea class="form-input" id="editBio" placeholder="Tell us about yourself..." rows="3"></textarea>
          </div>
          <button class="btn btn-primary" id="saveProfileBtn"><i class="fa-solid fa-save"></i> Save Profile</button>
        </div>
      </div>
    </div>

    <!-- ID Card -->
    <div class="content-card">
      <h3><i class="fa-solid fa-id-card"></i> Digital Member ID Card</h3>
      <div style="max-width:400px;margin:0 auto">
        <div style="background:linear-gradient(135deg,#0f172a,#1e293b);border-radius:16px;padding:24px;color:#fff;position:relative;overflow:hidden">
          <div style="position:absolute;right:-20px;top:-20px;width:120px;height:120px;border-radius:50%;background:rgba(99,102,241,.2)"></div>
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px">
            <img src="assets/images/logo.png" alt="FWF" style="width:40px;height:40px;border-radius:8px">
            <div>
              <div style="font-size:16px;font-weight:900">Foundris Welfare Foundation</div>
              <div style="font-size:10px;opacity:.7;font-weight:600">Member Identity Card</div>
            </div>
          </div>
          <div style="font-size:22px;font-weight:900;margin-bottom:4px" id="cardName">Member Name</div>
          <div style="font-size:14px;font-weight:700;color:#818cf8;margin-bottom:16px" id="cardId">FWF-000000</div>
          <div style="display:flex;gap:20px;font-size:11px;opacity:.7;font-weight:600">
            <span><i class="fa-solid fa-phone"></i> <span id="cardMobile">‚Äî</span></span>
            <span><i class="fa-solid fa-calendar"></i> <span id="cardJoined">‚Äî</span></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== SOCIAL WORK FEED ===================== -->
  <div class="page" id="page-feed">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
      <h3 style="font-size:16px;font-weight:800"><i class="fa-solid fa-camera" style="color:var(--accent)"></i> Social Work Feed</h3>
      <button class="btn btn-primary" onclick="openModal('postModal')"><i class="fa-solid fa-plus"></i> New Post</button>
    </div>

    <div id="feedContainer">
      <!-- Sample Feed Posts -->
      <div class="feed-card">
        <div class="feed-header">
          <div class="feed-avatar">FW</div>
          <div>
            <div class="feed-name">FWF Community</div>
            <div class="feed-time">Today ‚Ä¢ Welfare Activity</div>
          </div>
        </div>
        <div class="feed-body">
          üå± Tree plantation drive completed! 50 trees planted by our members in collaboration with local schools. 
          Together, we're building a greener future.
        </div>
        <div class="feed-actions">
          <button><i class="fa-regular fa-heart"></i> 24</button>
          <button><i class="fa-regular fa-comment"></i> 8</button>
          <button><i class="fa-solid fa-share"></i> Share</button>
        </div>
      </div>

      <div class="feed-card">
        <div class="feed-header">
          <div class="feed-avatar" style="background:linear-gradient(135deg,#22c55e,#059669)">SK</div>
          <div>
            <div class="feed-name">Skill Development Camp</div>
            <div class="feed-time">Yesterday ‚Ä¢ Training</div>
          </div>
        </div>
        <div class="feed-body">
          üé® Free tailoring workshop for 30 women completed! Our members are learning and earning. 
          Next batch starts soon ‚Äî refer friends to join!
        </div>
        <div class="feed-actions">
          <button><i class="fa-regular fa-heart"></i> 42</button>
          <button><i class="fa-regular fa-comment"></i> 15</button>
          <button><i class="fa-solid fa-share"></i> Share</button>
        </div>
      </div>

      <div class="feed-card">
        <div class="feed-header">
          <div class="feed-avatar" style="background:linear-gradient(135deg,#f59e0b,#d97706)">HC</div>
          <div>
            <div class="feed-name">Health Camp</div>
            <div class="feed-time">3 days ago ‚Ä¢ Health</div>
          </div>
        </div>
        <div class="feed-body">
          üè• Free health checkup camp organized for 100+ women in rural area. Eye testing, blood pressure 
          screening & nutrition counseling provided.
        </div>
        <div class="feed-actions">
          <button><i class="fa-regular fa-heart"></i> 67</button>
          <button><i class="fa-regular fa-comment"></i> 22</button>
          <button><i class="fa-solid fa-share"></i> Share</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== TRAINING & COURSES ===================== -->
  <div class="page" id="page-training">
    <div class="tab-bar">
      <button class="tab-btn active" data-tab="available-courses">Available Courses</button>
      <button class="tab-btn" data-tab="my-courses">My Courses</button>
      <button class="tab-btn" data-tab="certificates">Certificates</button>
    </div>

    <div class="tab-content active" id="available-courses">
      <div class="grid-3">
        <div class="course-card">
          <div class="course-thumb" style="background:linear-gradient(135deg,#6366f1,#8b5cf6)"><i class="fa-solid fa-scissors"></i></div>
          <div class="course-info">
            <h4>Tailoring & Stitching</h4>
            <p>Learn complete tailoring from basic to advanced level</p>
            <div class="course-status">
              <span style="color:var(--success)"><i class="fa-solid fa-clock"></i> 4 Weeks</span>
              <span class="badge b-active">Free</span>
            </div>
            <button class="btn btn-primary btn-sm" style="margin-top:10px;width:100%;justify-content:center">Enroll Now</button>
          </div>
        </div>
        <div class="course-card">
          <div class="course-thumb" style="background:linear-gradient(135deg,#22c55e,#059669)"><i class="fa-solid fa-laptop-code"></i></div>
          <div class="course-info">
            <h4>Basic Computer Skills</h4>
            <p>MS Office, Internet, Email & Digital basics</p>
            <div class="course-status">
              <span style="color:var(--success)"><i class="fa-solid fa-clock"></i> 6 Weeks</span>
              <span class="badge b-active">Free</span>
            </div>
            <button class="btn btn-primary btn-sm" style="margin-top:10px;width:100%;justify-content:center">Enroll Now</button>
          </div>
        </div>
        <div class="course-card">
          <div class="course-thumb" style="background:linear-gradient(135deg,#f59e0b,#d97706)"><i class="fa-solid fa-utensils"></i></div>
          <div class="course-info">
            <h4>Food Processing & Packaging</h4>
            <p>Start your own food business from home</p>
            <div class="course-status">
              <span style="color:var(--success)"><i class="fa-solid fa-clock"></i> 3 Weeks</span>
              <span class="badge b-active">Free</span>
            </div>
            <button class="btn btn-primary btn-sm" style="margin-top:10px;width:100%;justify-content:center">Enroll Now</button>
          </div>
        </div>
        <div class="course-card">
          <div class="course-thumb" style="background:linear-gradient(135deg,#ec4899,#be185d)"><i class="fa-solid fa-palette"></i></div>
          <div class="course-info">
            <h4>Handicraft & Mehndi Art</h4>
            <p>Traditional & modern designs for business</p>
            <div class="course-status">
              <span style="color:var(--success)"><i class="fa-solid fa-clock"></i> 3 Weeks</span>
              <span class="badge b-active">Free</span>
            </div>
            <button class="btn btn-primary btn-sm" style="margin-top:10px;width:100%;justify-content:center">Enroll Now</button>
          </div>
        </div>
        <div class="course-card">
          <div class="course-thumb" style="background:linear-gradient(135deg,#06b6d4,#0891b2)"><i class="fa-solid fa-chart-bar"></i></div>
          <div class="course-info">
            <h4>Digital Marketing</h4>
            <p>Social media, SEO & online business skills</p>
            <div class="course-status">
              <span style="color:var(--success)"><i class="fa-solid fa-clock"></i> 5 Weeks</span>
              <span class="badge b-active">Free</span>
            </div>
            <button class="btn btn-primary btn-sm" style="margin-top:10px;width:100%;justify-content:center">Enroll Now</button>
          </div>
        </div>
        <div class="course-card">
          <div class="course-thumb" style="background:linear-gradient(135deg,#14b8a6,#0d9488)"><i class="fa-solid fa-seedling"></i></div>
          <div class="course-info">
            <h4>Organic Farming</h4>
            <p>Kitchen garden & organic produce business</p>
            <div class="course-status">
              <span style="color:var(--success)"><i class="fa-solid fa-clock"></i> 4 Weeks</span>
              <span class="badge b-active">Free</span>
            </div>
            <button class="btn btn-primary btn-sm" style="margin-top:10px;width:100%;justify-content:center">Enroll Now</button>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" id="my-courses">
      <div class="content-card">
        <div class="empty-state">
          <i class="fa-solid fa-graduation-cap"></i>
          <p>You haven't enrolled in any course yet. Start learning today!</p>
          <button class="btn btn-primary" style="margin-top:12px" onclick="document.querySelector('[data-tab=available-courses]').click()">Browse Courses</button>
        </div>
      </div>
    </div>

    <div class="tab-content" id="certificates">
      <div class="content-card">
        <div class="empty-state">
          <i class="fa-solid fa-certificate"></i>
          <p>Complete a course to earn your certificate!</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== REWARDS WALLET ===================== -->
  <div class="page" id="page-wallet">
    <div class="stats-row">
      <div class="stat-card">
        <div class="s-icon s-purple"><i class="fa-solid fa-star"></i></div>
        <div class="s-label">Total Points</div>
        <div class="s-value" id="wPoints">0</div>
      </div>
      <div class="stat-card">
        <div class="s-icon s-green"><i class="fa-solid fa-hand-holding-heart"></i></div>
        <div class="s-label">From Donations</div>
        <div class="s-value" id="wDonPts">0</div>
      </div>
      <div class="stat-card">
        <div class="s-icon s-blue"><i class="fa-solid fa-user-plus"></i></div>
        <div class="s-label">From Referrals</div>
        <div class="s-value" id="wRefPts">0</div>
      </div>
      <div class="stat-card">
        <div class="s-icon s-amber"><i class="fa-solid fa-ticket"></i></div>
        <div class="s-label">From Quiz Tickets</div>
        <div class="s-value" id="wQuizPts">0</div>
      </div>
    </div>

    <div class="grid-2">
      <!-- Earn Points Section -->
      <div>
        <div class="content-card">
          <h3><i class="fa-solid fa-hand-holding-heart"></i> Record Donation</h3>
          <p style="font-size:12px;color:var(--text-muted);margin-bottom:14px">Collected a donation? Record it to earn 10% as reward points!</p>
          <div class="form-group">
            <label>Donation Amount (‚Çπ)</label>
            <input type="number" class="form-input" id="donAmount" placeholder="e.g. 500" min="1">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Donor Name</label>
              <input type="text" class="form-input" id="donName" placeholder="Donor name">
            </div>
            <div class="form-group">
              <label>Donor Contact</label>
              <input type="text" class="form-input" id="donContact" placeholder="Phone/Email">
            </div>
          </div>
          <button class="btn btn-success" id="recordDonBtn"><i class="fa-solid fa-plus"></i> Record Donation</button>
        </div>

        <div class="content-card">
          <h3><i class="fa-solid fa-ticket"></i> Sell Quiz Ticket</h3>
          <p style="font-size:12px;color:var(--text-muted);margin-bottom:14px">Sold a quiz ticket? Record it to earn 10% as reward points!</p>
          <div class="form-row">
            <div class="form-group">
              <label>Buyer Name</label>
              <input type="text" class="form-input" id="tickBuyer" placeholder="Buyer name">
            </div>
            <div class="form-group">
              <label>Buyer Contact</label>
              <input type="text" class="form-input" id="tickContact" placeholder="Phone/Email">
            </div>
          </div>
          <div class="form-group">
            <label>Ticket Price (‚Çπ)</label>
            <input type="number" class="form-input" id="tickPrice" placeholder="100" value="100" min="1">
          </div>
          <button class="btn btn-success" id="sellTicketBtn"><i class="fa-solid fa-plus"></i> Record Ticket Sale</button>
        </div>
      </div>

      <!-- Points History -->
      <div>
        <div class="content-card">
          <h3><i class="fa-solid fa-user-plus"></i> Your Referral Code</h3>
          <div style="display:flex;gap:10px;align-items:center;margin-bottom:12px">
            <input type="text" class="form-input" id="refCode" readonly style="font-weight:900;font-size:16px;text-align:center">
            <button class="btn btn-ghost" onclick="copyRefCode()"><i class="fa-solid fa-copy"></i></button>
          </div>
          <p style="font-size:12px;color:var(--text-muted)">Share this code with friends. You'll earn 50% of their joining fee as reward points!</p>
        </div>

        <div class="content-card">
          <h3><i class="fa-solid fa-clock-rotate-left"></i> Points History</h3>
          <div class="table-wrap">
            <table class="data-table">
              <thead><tr><th>Type</th><th>Points</th><th>Description</th><th>Date</th></tr></thead>
              <tbody id="pointsHistoryBody">
                <tr><td colspan="4" class="empty-state"><p>No points earned yet</p></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== REDEEM POINTS ===================== -->
  <div class="page" id="page-redeem">
    <div class="content-card" style="margin-bottom:20px">
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px">
        <div>
          <h3 style="margin-bottom:4px"><i class="fa-solid fa-gift"></i> Redeem Your Points</h3>
          <p style="font-size:13px;color:var(--text-muted)">Support NGO projects by using your earned reward points</p>
        </div>
        <div style="text-align:right">
          <div style="font-size:12px;color:var(--text-muted);font-weight:700">Available Points</div>
          <div style="font-size:28px;font-weight:900;color:var(--accent)" id="redeemAvail">0</div>
        </div>
      </div>
    </div>

    <div class="grid-3">
      <div class="redeem-card">
        <div class="redeem-icon s-purple"><i class="fa-solid fa-book"></i></div>
        <h4>Sponsor Education Kit</h4>
        <p>Provide books, stationery & school bags to underprivileged children</p>
        <div class="redeem-cost">500 Points</div>
        <button class="btn btn-primary btn-sm" onclick="redeemProject('Education Kit Sponsorship', 500)">Redeem</button>
      </div>
      <div class="redeem-card">
        <div class="redeem-icon s-green"><i class="fa-solid fa-heart-pulse"></i></div>
        <h4>Health Camp Support</h4>
        <p>Fund free health checkups for women in rural areas</p>
        <div class="redeem-cost">750 Points</div>
        <button class="btn btn-primary btn-sm" onclick="redeemProject('Health Camp Support', 750)">Redeem</button>
      </div>
      <div class="redeem-card">
        <div class="redeem-icon s-pink"><i class="fa-solid fa-female"></i></div>
        <h4>Women Business Fund</h4>
        <p>Help women start their own small businesses</p>
        <div class="redeem-cost">1000 Points</div>
        <button class="btn btn-primary btn-sm" onclick="redeemProject('Women Business Funding', 1000)">Redeem</button>
      </div>
      <div class="redeem-card">
        <div class="redeem-icon s-teal"><i class="fa-solid fa-tree"></i></div>
        <h4>Tree Plantation Drive</h4>
        <p>Plant trees and contribute to a greener environment</p>
        <div class="redeem-cost">300 Points</div>
        <button class="btn btn-primary btn-sm" onclick="redeemProject('Tree Plantation Drive', 300)">Redeem</button>
      </div>
      <div class="redeem-card">
        <div class="redeem-icon s-amber"><i class="fa-solid fa-bowl-food"></i></div>
        <h4>Nutrition Program</h4>
        <p>Provide nutritious meals to malnourished children</p>
        <div class="redeem-cost">400 Points</div>
        <button class="btn btn-primary btn-sm" onclick="redeemProject('Nutrition Program', 400)">Redeem</button>
      </div>
      <div class="redeem-card">
        <div class="redeem-icon s-blue"><i class="fa-solid fa-water"></i></div>
        <h4>Clean Water Initiative</h4>
        <p>Support clean drinking water projects in villages</p>
        <div class="redeem-cost">600 Points</div>
        <button class="btn btn-primary btn-sm" onclick="redeemProject('Clean Water Initiative', 600)">Redeem</button>
      </div>
    </div>
  </div>

  <!-- ===================== MARKETPLACE ===================== -->
  <div class="page" id="page-marketplace">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:10px">
      <h3 style="font-size:16px;font-weight:800"><i class="fa-solid fa-store" style="color:var(--accent)"></i> Member Marketplace</h3>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <button class="btn btn-ghost cat-filter active" data-cat="all">All</button>
        <button class="btn btn-ghost cat-filter" data-cat="organic">Organic</button>
        <button class="btn btn-ghost cat-filter" data-cat="handicraft">Handicraft</button>
        <button class="btn btn-ghost cat-filter" data-cat="clothing">Clothing</button>
        <button class="btn btn-ghost cat-filter" data-cat="food">Food</button>
      </div>
    </div>

    <div class="grid-3" id="marketGrid">
      <div class="product-card" data-cat="organic">
        <div class="product-thumb"><i class="fa-solid fa-leaf"></i></div>
        <div class="product-info">
          <h4>Organic Honey (500g)</h4>
          <div class="seller">By Sunita Devi ‚Ä¢ Kanpur</div>
          <div class="product-price">‚Çπ350</div>
          <div class="product-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (4.8)</div>
          <button class="btn btn-primary btn-sm" style="margin-top:8px;width:100%;justify-content:center"><i class="fa-solid fa-cart-plus"></i> Add to Cart</button>
        </div>
      </div>
      <div class="product-card" data-cat="handicraft">
        <div class="product-thumb" style="background:#fff3e0"><i class="fa-solid fa-palette"></i></div>
        <div class="product-info">
          <h4>Handmade Madhubani Painting</h4>
          <div class="seller">By Rani Kumari ‚Ä¢ Bihar</div>
          <div class="product-price">‚Çπ850</div>
          <div class="product-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (5.0)</div>
          <button class="btn btn-primary btn-sm" style="margin-top:8px;width:100%;justify-content:center"><i class="fa-solid fa-cart-plus"></i> Add to Cart</button>
        </div>
      </div>
      <div class="product-card" data-cat="clothing">
        <div class="product-thumb" style="background:#fce4ec"><i class="fa-solid fa-shirt"></i></div>
        <div class="product-info">
          <h4>Hand Embroidered Kurti</h4>
          <div class="seller">By Priya Verma ‚Ä¢ Lucknow</div>
          <div class="product-price">‚Çπ1,200</div>
          <div class="product-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4.5)</div>
          <button class="btn btn-primary btn-sm" style="margin-top:8px;width:100%;justify-content:center"><i class="fa-solid fa-cart-plus"></i> Add to Cart</button>
        </div>
      </div>
      <div class="product-card" data-cat="food">
        <div class="product-thumb" style="background:#e8f5e9"><i class="fa-solid fa-jar"></i></div>
        <div class="product-info">
          <h4>Homemade Pickles (Set of 3)</h4>
          <div class="seller">By Kamla Devi ‚Ä¢ Varanasi</div>
          <div class="product-price">‚Çπ450</div>
          <div class="product-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (4.9)</div>
          <button class="btn btn-primary btn-sm" style="margin-top:8px;width:100%;justify-content:center"><i class="fa-solid fa-cart-plus"></i> Add to Cart</button>
        </div>
      </div>
      <div class="product-card" data-cat="handicraft">
        <div class="product-thumb" style="background:#e3f2fd"><i class="fa-solid fa-mug-hot"></i></div>
        <div class="product-info">
          <h4>Hand-painted Ceramic Mugs (2)</h4>
          <div class="seller">By Neha Singh ‚Ä¢ Jaipur</div>
          <div class="product-price">‚Çπ550</div>
          <div class="product-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4.3)</div>
          <button class="btn btn-primary btn-sm" style="margin-top:8px;width:100%;justify-content:center"><i class="fa-solid fa-cart-plus"></i> Add to Cart</button>
        </div>
      </div>
      <div class="product-card" data-cat="organic">
        <div class="product-thumb" style="background:#f1f8e9"><i class="fa-solid fa-mortar-pestle"></i></div>
        <div class="product-info">
          <h4>Organic Spice Box (6 spices)</h4>
          <div class="seller">By Meera Bai ‚Ä¢ Rajasthan</div>
          <div class="product-price">‚Çπ650</div>
          <div class="product-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (4.7)</div>
          <button class="btn btn-primary btn-sm" style="margin-top:8px;width:100%;justify-content:center"><i class="fa-solid fa-cart-plus"></i> Add to Cart</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== SELLER PANEL ===================== -->
  <div class="page" id="page-seller">
    <div class="stats-row" style="grid-template-columns:repeat(4,1fr)">
      <div class="stat-card">
        <div class="seller-stat">
          <div class="val" id="selProducts">0</div>
          <div class="lbl">Products</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="seller-stat">
          <div class="val" id="selOrders">0</div>
          <div class="lbl">Total Orders</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="seller-stat">
          <div class="val" id="selEarnings">‚Çπ0</div>
          <div class="lbl">Earnings</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="seller-stat">
          <div class="val" id="selPending">‚Çπ0</div>
          <div class="lbl">Pending Withdrawal</div>
        </div>
      </div>
    </div>

    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
      <h3 style="font-size:16px;font-weight:800"><i class="fa-solid fa-boxes-stacked" style="color:var(--accent)"></i> Your Products</h3>
      <button class="btn btn-primary" onclick="openModal('addProductModal')"><i class="fa-solid fa-plus"></i> Add Product</button>
    </div>

    <div class="content-card">
      <div class="empty-state">
        <i class="fa-solid fa-store"></i>
        <p>No products listed yet. Start selling your handmade products!</p>
        <button class="btn btn-primary" style="margin-top:12px" onclick="openModal('addProductModal')"><i class="fa-solid fa-plus"></i> Add First Product</button>
      </div>
    </div>

    <div class="content-card">
      <h3><i class="fa-solid fa-receipt"></i> Recent Orders</h3>
      <div class="table-wrap">
        <table class="data-table">
          <thead><tr><th>Order ID</th><th>Product</th><th>Buyer</th><th>Amount</th><th>Status</th><th>Date</th></tr></thead>
          <tbody>
            <tr><td colspan="6" class="empty-state"><p>No orders yet</p></td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- ===================== EVENTS & ACTIVITIES ===================== -->
  <div class="page" id="page-events">
    <div class="tab-bar">
      <button class="tab-btn active" data-tab="upcoming-events">Upcoming Events</button>
      <button class="tab-btn" data-tab="volunteer-tab">Volunteer</button>
      <button class="tab-btn" data-tab="my-events">My Registrations</button>
    </div>

    <div class="tab-content active" id="upcoming-events">
      <div class="event-card">
        <div class="event-date">
          <div class="day">15</div>
          <div class="month">Mar</div>
        </div>
        <div class="event-info" style="flex:1">
          <h4>Women's Day Skill Festival</h4>
          <p><i class="fa-solid fa-location-dot"></i> Community Center, Kanpur &bull; 10:00 AM</p>
        </div>
        <button class="btn btn-primary btn-sm">Register</button>
      </div>
      <div class="event-card">
        <div class="event-date" style="background:linear-gradient(135deg,#22c55e,#059669)">
          <div class="day">22</div>
          <div class="month">Mar</div>
        </div>
        <div class="event-info" style="flex:1">
          <h4>Tree Plantation Drive</h4>
          <p><i class="fa-solid fa-location-dot"></i> City Park, Lucknow &bull; 7:00 AM</p>
        </div>
        <button class="btn btn-primary btn-sm">Register</button>
      </div>
      <div class="event-card">
        <div class="event-date" style="background:linear-gradient(135deg,#f59e0b,#d97706)">
          <div class="day">05</div>
          <div class="month">Apr</div>
        </div>
        <div class="event-info" style="flex:1">
          <h4>Handicraft Exhibition & Sale</h4>
          <p><i class="fa-solid fa-location-dot"></i> Town Hall, Varanasi &bull; 11:00 AM</p>
        </div>
        <button class="btn btn-primary btn-sm">Register</button>
      </div>
      <div class="event-card">
        <div class="event-date" style="background:linear-gradient(135deg,#ec4899,#be185d)">
          <div class="day">12</div>
          <div class="month">Apr</div>
        </div>
        <div class="event-info" style="flex:1">
          <h4>Free Health Camp for Women</h4>
          <p><i class="fa-solid fa-location-dot"></i> PHC Center, Kanpur &bull; 9:00 AM</p>
        </div>
        <button class="btn btn-primary btn-sm">Register</button>
      </div>
    </div>

    <div class="tab-content" id="volunteer-tab">
      <div class="content-card">
        <h3><i class="fa-solid fa-hands-helping"></i> Volunteer Opportunities</h3>
        <p style="color:var(--text-muted);font-size:13px;margin-bottom:16px">Join as a volunteer and earn extra reward points!</p>
        <div class="grid-2">
          <div class="event-card" style="margin-bottom:0">
            <div class="event-date" style="background:linear-gradient(135deg,#06b6d4,#0891b2);width:44px;height:44px">
              <div class="day" style="font-size:16px"><i class="fa-solid fa-chalkboard-teacher"></i></div>
            </div>
            <div class="event-info">
              <h4>Teaching Assistant</h4>
              <p>Help in skill training camps</p>
            </div>
          </div>
          <div class="event-card" style="margin-bottom:0">
            <div class="event-date" style="background:linear-gradient(135deg,#14b8a6,#0d9488);width:44px;height:44px">
              <div class="day" style="font-size:16px"><i class="fa-solid fa-hands-holding-child"></i></div>
            </div>
            <div class="event-info">
              <h4>Community Outreach</h4>
              <p>Door-to-door awareness programs</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" id="my-events">
      <div class="content-card">
        <div class="empty-state">
          <i class="fa-solid fa-calendar-check"></i>
          <p>No event registrations yet</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== HELP & SUPPORT ===================== -->
  <div class="page" id="page-support">
    <div class="grid-2">
      <div>
        <div class="content-card">
          <h3><i class="fa-solid fa-ticket"></i> Submit Support Ticket</h3>
          <div class="form-group">
            <label>Category</label>
            <select class="form-input" id="supCategory">
              <option value="general">General</option>
              <option value="technical">Technical</option>
              <option value="payment">Payment</option>
              <option value="membership">Membership</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label>Subject</label>
            <input type="text" class="form-input" id="supSubject" placeholder="Brief subject">
          </div>
          <div class="form-group">
            <label>Message</label>
            <textarea class="form-input" id="supMessage" placeholder="Describe your issue in detail..." rows="4"></textarea>
          </div>
          <button class="btn btn-primary" id="submitTicketBtn"><i class="fa-solid fa-paper-plane"></i> Submit Ticket</button>
        </div>

        <div class="content-card">
          <h3><i class="fa-solid fa-circle-question"></i> Quick Help</h3>
          <div style="display:flex;flex-direction:column;gap:8px">
            <a href="https://wa.me/919580118412" target="_blank" class="btn btn-success" style="justify-content:center"><i class="fa-brands fa-whatsapp"></i> WhatsApp Support</a>
            <a href="mailto:info@fwfindia.org" class="btn btn-ghost" style="justify-content:center"><i class="fa-solid fa-envelope"></i> Email Support</a>
          </div>
        </div>

        <div class="content-card">
          <h3><i class="fa-solid fa-message"></i> FAQ</h3>
          <details style="margin-bottom:8px">
            <summary style="font-weight:700;font-size:13px;cursor:pointer;padding:8px 0">How do I earn reward points?</summary>
            <p style="font-size:12px;color:var(--text-muted);padding:8px 0 8px 16px">Earn points through referrals (50% of joining fee), donation collection (10%), quiz ticket selling (10%), and volunteer participation.</p>
          </details>
          <details style="margin-bottom:8px">
            <summary style="font-weight:700;font-size:13px;cursor:pointer;padding:8px 0">How can I redeem my points?</summary>
            <p style="font-size:12px;color:var(--text-muted);padding:8px 0 8px 16px">Go to the "Redeem Points" section and support NGO projects like education kits, health camps, and more.</p>
          </details>
          <details style="margin-bottom:8px">
            <summary style="font-weight:700;font-size:13px;cursor:pointer;padding:8px 0">How does the Marketplace work?</summary>
            <p style="font-size:12px;color:var(--text-muted);padding:8px 0 8px 16px">Members can list handmade/local products for sale. Other members and public users can purchase. Go to Seller Panel to start selling.</p>
          </details>
          <details>
            <summary style="font-weight:700;font-size:13px;cursor:pointer;padding:8px 0">How do I renew my membership?</summary>
            <p style="font-size:12px;color:var(--text-muted);padding:8px 0 8px 16px">Contact support via WhatsApp or email for membership renewal. Annual fee keeps your account active.</p>
          </details>
        </div>
      </div>

      <div>
        <div class="content-card">
          <h3><i class="fa-solid fa-list-check"></i> My Tickets</h3>
          <div class="table-wrap">
            <table class="data-table">
              <thead><tr><th>Ticket</th><th>Subject</th><th>Status</th><th>Reply</th><th>Date</th></tr></thead>
              <tbody id="myTicketsBody">
                <tr><td colspan="5" class="empty-state"><p>No tickets submitted</p></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

</main>

<!-- ======== MODALS ======== -->

<!-- New Post Modal -->
<div class="modal-overlay hidden" id="postModal">
  <div class="modal-card" style="max-width:540px">
    <div class="modal-head">
      <h3><i class="fa-solid fa-camera"></i> New Social Work Post</h3>
      <button class="modal-close" onclick="closeModal('postModal')">&times;</button>
    </div>
    <div class="form-group">
      <label>Activity Type</label>
      <select class="form-input" id="postType">
        <option value="welfare">Welfare Activity</option>
        <option value="training">Training Session</option>
        <option value="health">Health Camp</option>
        <option value="plantation">Plantation Drive</option>
        <option value="other">Other</option>
      </select>
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea class="form-input" id="postDesc" placeholder="Describe the activity..." rows="4"></textarea>
    </div>
    <div class="form-group">
      <label>Photo/Video Upload</label>
      <input type="file" class="form-input" id="postMedia" accept="image/*,video/*">
    </div>
    <div class="modal-actions">
      <button class="btn btn-ghost" onclick="closeModal('postModal')">Cancel</button>
      <button class="btn btn-primary"><i class="fa-solid fa-paper-plane"></i> Post</button>
    </div>
  </div>
</div>

<!-- Add Product Modal -->
<div class="modal-overlay hidden" id="addProductModal">
  <div class="modal-card">
    <div class="modal-head">
      <h3><i class="fa-solid fa-box-open"></i> Add Product</h3>
      <button class="modal-close" onclick="closeModal('addProductModal')">&times;</button>
    </div>
    <div class="form-group">
      <label>Product Name</label>
      <input type="text" class="form-input" id="prodName" placeholder="e.g. Handmade Candles">
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Category</label>
        <select class="form-input" id="prodCat">
          <option value="organic">Organic</option>
          <option value="handicraft">Handicraft</option>
          <option value="clothing">Clothing</option>
          <option value="food">Food Items</option>
          <option value="other">Other</option>
        </select>
      </div>
      <div class="form-group">
        <label>Price (‚Çπ)</label>
        <input type="number" class="form-input" id="prodPrice" placeholder="0" min="1">
      </div>
    </div>
    <div class="form-group">
      <label>Description</label>
      <textarea class="form-input" id="prodDesc" placeholder="Describe your product..." rows="3"></textarea>
    </div>
    <div class="form-group">
      <label>Product Image</label>
      <input type="file" class="form-input" id="prodImage" accept="image/*">
    </div>
    <div class="modal-actions">
      <button class="btn btn-ghost" onclick="closeModal('addProductModal')">Cancel</button>
      <button class="btn btn-primary"><i class="fa-solid fa-plus"></i> Add Product</button>
    </div>
  </div>
</div>

<script src="assets/js/fwf.js"></script>
<script src="auth.js"></script>
<script>
/* ============================================
   NAVIGATION
   ============================================ */
const pageTitles = {
  home: '<i class="fa-solid fa-house"></i> Dashboard',
  profile: '<i class="fa-solid fa-id-card"></i> Profile & ID Card',
  feed: '<i class="fa-solid fa-camera"></i> Social Work Feed',
  training: '<i class="fa-solid fa-graduation-cap"></i> Training & Courses',
  wallet: '<i class="fa-solid fa-wallet"></i> Rewards Wallet',
  redeem: '<i class="fa-solid fa-gift"></i> Redeem Points',
  marketplace: '<i class="fa-solid fa-store"></i> Marketplace',
  seller: '<i class="fa-solid fa-boxes-stacked"></i> Seller Panel',
  events: '<i class="fa-solid fa-calendar-days"></i> Events & Activities',
  support: '<i class="fa-solid fa-headset"></i> Help & Support'
};

function switchPage(page){
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-item[data-page]').forEach(n => n.classList.remove('active'));
  const el = document.getElementById('page-' + page);
  if(el) el.classList.add('active');
  const nav = document.querySelector('.nav-item[data-page="'+page+'"]');
  if(nav) nav.classList.add('active');
  document.getElementById('pageTitle').innerHTML = pageTitles[page] || page;
  closeMobile();

  // Lazy load data
  if(page === 'wallet') loadWallet();
  if(page === 'redeem') loadRedeemPage();
  if(page === 'support') loadMyTickets();
  if(page === 'profile') loadProfile();
}

document.querySelectorAll('.nav-item[data-page]').forEach(btn => {
  btn.addEventListener('click', () => switchPage(btn.dataset.page));
});

// Mobile
document.getElementById('mobileToggle').addEventListener('click', () => {
  document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('mobileOverlay').classList.toggle('show');
});
document.getElementById('mobileOverlay').addEventListener('click', closeMobile);
function closeMobile(){
  document.getElementById('sidebar').classList.remove('open');
  document.getElementById('mobileOverlay').classList.remove('show');
}

// Tabs
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const parent = btn.closest('.page');
    parent.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    parent.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(btn.dataset.tab).classList.add('active');
  });
});

// Category filters (marketplace)
document.querySelectorAll('.cat-filter').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.cat-filter').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const cat = btn.dataset.cat;
    document.querySelectorAll('#marketGrid .product-card').forEach(card => {
      card.style.display = (cat === 'all' || card.dataset.cat === cat) ? '' : 'none';
    });
  });
});

/* ============================================
   MODALS
   ============================================ */
function openModal(id){ document.getElementById(id).classList.remove('hidden'); }
function closeModal(id){ document.getElementById(id).classList.add('hidden'); }

/* ============================================
   UTILITIES
   ============================================ */
function fmtN(n){ return Math.round(n||0).toLocaleString('en-IN'); }
function fmtDate(d){
  if(!d) return '‚Äî';
  try{ return new Date(d).toLocaleDateString('en-IN',{day:'numeric',month:'short',year:'numeric'}); }
  catch(e){ return d; }
}
function notify(msg, type){
  if(typeof FWF_Notify !== 'undefined') FWF_Notify.toast(msg, type);
  else alert(msg);
}
function statusBadge(s){
  const map = {active:'b-active',inactive:'b-inactive',open:'b-open','in-progress':'b-progress',resolved:'b-resolved',closed:'b-closed',pending:'b-pending',donation:'b-active',referral:'b-open',quiz:'b-progress',redeem:'b-closed'};
  return `<span class="badge ${map[s]||'b-open'}">${s}</span>`;
}

/* ============================================
   MEMBER DATA
   ============================================ */
let memberData = null;

async function loadDashboard(){
  try {
    const data = await AUTH.api('/api/member/me');
    memberData = data;
    const u = data.user || {};
    const w = data.wallet || {};

    // Welcome
    document.getElementById('welcomeName').textContent = 'Welcome, ' + (u.name || 'Member') + '!';
    document.getElementById('welcomeId').textContent = u.member_id || 'FWF-000000';
    document.getElementById('memberBadge').innerHTML = `<i class="fa-solid fa-circle-check"></i> ${u.member_id || 'Member'}`;

    // Home stats
    document.getElementById('hPoints').textContent = fmtN(w.points_balance || w.total_points_earned);
    document.getElementById('hWallet').textContent = '‚Çπ' + fmtN(w.balance_inr);
    document.getElementById('hReferrals').textContent = fmtN(data.referralStats?.total || 0);
    document.getElementById('hDonations').textContent = '‚Çπ' + fmtN(data.recentDonations?.reduce((s,d)=>s+(d.amount||0),0) || 0);

    // Recent activity on home
    if(data.pointsLedger && data.pointsLedger.length){
      document.getElementById('homeActivity').innerHTML = data.pointsLedger.slice(0,5).map(p => `
        <div style="display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid #f1f5f9">
          <div style="width:32px;height:32px;border-radius:8px;background:var(--accent-soft);color:var(--accent);display:flex;align-items:center;justify-content:center;font-size:12px">
            <i class="fa-solid fa-${p.type==='donation'?'heart':p.type==='referral'?'user-plus':p.type==='quiz'?'ticket':'star'}"></i>
          </div>
          <div style="flex:1">
            <div style="font-size:12px;font-weight:700">${p.description||p.type}</div>
            <div style="font-size:11px;color:var(--text-muted)">${fmtDate(p.created_at)}</div>
          </div>
          <div style="font-weight:800;color:var(--success);font-size:13px">+${p.points}</div>
        </div>
      `).join('');
    }

    // Cache for profile
    populateProfile(data);

  } catch(e){
    notify('Session expired. Redirecting...', 'error');
    setTimeout(() => location.href = '/member-login', 2000);
  }
}

function populateProfile(data){
  const u = data.user || {};
  const initials = (u.name||'M').split(' ').map(w=>w[0]).join('').substring(0,2).toUpperCase();
  document.getElementById('profileAvatar').textContent = initials;
  document.getElementById('profileName').textContent = u.name || 'Member';
  document.getElementById('profileId').textContent = u.member_id || '';
  document.getElementById('profileMobile').textContent = u.mobile || '‚Äî';
  document.getElementById('profileEmail').textContent = u.email || '‚Äî';
  document.getElementById('profileJoined').textContent = fmtDate(u.created_at);
  document.getElementById('profileStatus').textContent = u.membership_active ? 'Active' : 'Expired';
  document.getElementById('profileStatus').style.color = u.membership_active ? 'var(--success)' : 'var(--danger)';
  document.getElementById('editName').value = u.name || '';
  document.getElementById('editBio').value = u.bio || '';

  // ID Card
  document.getElementById('cardName').textContent = u.name || 'Member';
  document.getElementById('cardId').textContent = u.member_id || '';
  document.getElementById('cardMobile').textContent = u.mobile || '‚Äî';
  document.getElementById('cardJoined').textContent = fmtDate(u.created_at);
}

function loadProfile(){
  if(memberData) populateProfile(memberData);
}

/* ============================================
   WALLET
   ============================================ */
async function loadWallet(){
  try{
    const data = memberData || await AUTH.api('/api/member/me');
    memberData = data;
    const w = data.wallet || {};

    document.getElementById('wPoints').textContent = fmtN(w.points_balance || w.total_points_earned);
    document.getElementById('wDonPts').textContent = fmtN(w.points_from_donations);
    document.getElementById('wRefPts').textContent = fmtN(w.points_from_referrals);
    document.getElementById('wQuizPts').textContent = fmtN(w.points_from_quiz);

    // Referral code
    document.getElementById('refCode').value = data.user?.referral_code || 'N/A';

    // Points history
    const pts = data.pointsLedger || [];
    const tbody = document.getElementById('pointsHistoryBody');
    if(pts.length){
      tbody.innerHTML = pts.map(p => `<tr>
        <td>${statusBadge(p.type)}</td>
        <td style="font-weight:800;color:var(--success)">+${p.points}</td>
        <td style="font-size:12px">${p.description||'‚Äî'}</td>
        <td style="color:var(--text-muted);font-size:12px">${fmtDate(p.created_at)}</td>
      </tr>`).join('');
    }
  } catch(e){ notify('Failed to load wallet','error'); }
}

function loadRedeemPage(){
  if(memberData){
    document.getElementById('redeemAvail').textContent = fmtN(memberData.wallet?.points_balance || memberData.wallet?.total_points_earned || 0);
  }
}

function copyRefCode(){
  const code = document.getElementById('refCode').value;
  navigator.clipboard.writeText(code).then(()=> notify('Referral code copied!','success')).catch(()=>{});
}

/* ============================================
   EARN POINTS
   ============================================ */
document.getElementById('recordDonBtn').addEventListener('click', async ()=>{
  const amount = parseFloat(document.getElementById('donAmount').value);
  if(!amount || amount <= 0) return notify('Enter valid donation amount','warning');
  try{
    const r = await AUTH.api('/api/member/record-donation',{method:'POST',body:{
      amount,
      donorName: document.getElementById('donName').value.trim(),
      donorContact: document.getElementById('donContact').value.trim()
    }});
    notify(r.message || `Donation recorded! +${r.pointsEarned} points`,'success');
    document.getElementById('donAmount').value = '';
    document.getElementById('donName').value = '';
    document.getElementById('donContact').value = '';
    memberData = null; // Force refresh
    loadWallet();
  } catch(e){ notify(e.message||'Failed','error'); }
});

document.getElementById('sellTicketBtn').addEventListener('click', async ()=>{
  const buyerName = document.getElementById('tickBuyer').value.trim();
  if(!buyerName) return notify('Enter buyer name','warning');
  try{
    const r = await AUTH.api('/api/member/sell-ticket',{method:'POST',body:{
      buyerName,
      buyerContact: document.getElementById('tickContact').value.trim(),
      ticketPrice: parseFloat(document.getElementById('tickPrice').value) || 100
    }});
    notify(r.message || `Ticket recorded! +${r.pointsEarned} points`,'success');
    document.getElementById('tickBuyer').value = '';
    document.getElementById('tickContact').value = '';
    memberData = null;
    loadWallet();
  } catch(e){ notify(e.message||'Failed','error'); }
});

/* ============================================
   REDEEM
   ============================================ */
async function redeemProject(projectName, cost){
  const pts = memberData?.wallet?.points_balance || memberData?.wallet?.total_points_earned || 0;
  if(pts < cost){
    notify(`Not enough points! You need ${cost} but have ${pts}`,'warning');
    return;
  }
  if(typeof FWF_Notify !== 'undefined'){
    FWF_Notify.confirm(`Redeem ${cost} points for "${projectName}"?`, async ()=>{
      try{
        await AUTH.api('/api/member/apply-wallet',{method:'POST',body:{amount:cost}});
        notify(`Successfully redeemed ${cost} points for ${projectName}!`,'success');
        memberData = null;
        loadRedeemPage();
      } catch(e){ notify(e.message||'Redemption failed','error'); }
    });
  } else {
    if(!confirm(`Redeem ${cost} points for "${projectName}"?`)) return;
    try{
      await AUTH.api('/api/member/apply-wallet',{method:'POST',body:{amount:cost}});
      notify('Redeemed!','success');
      memberData = null;
      loadRedeemPage();
    } catch(e){ notify(e.message||'Failed','error'); }
  }
}

/* ============================================
   SUPPORT
   ============================================ */
document.getElementById('submitTicketBtn').addEventListener('click', async ()=>{
  const subject = document.getElementById('supSubject').value.trim();
  const message = document.getElementById('supMessage').value.trim();
  if(!subject || !message) return notify('Fill subject and message','warning');
  try{
    await AUTH.api('/api/member/support-ticket',{method:'POST',body:{
      subject,
      message,
      category: document.getElementById('supCategory').value
    }});
    notify('Support ticket submitted!','success');
    document.getElementById('supSubject').value = '';
    document.getElementById('supMessage').value = '';
    loadMyTickets();
  } catch(e){ notify(e.message||'Failed','error'); }
});

async function loadMyTickets(){
  try{
    const d = await AUTH.api('/api/member/support-tickets');
    const tbody = document.getElementById('myTicketsBody');
    if(!d.tickets || !d.tickets.length){
      tbody.innerHTML = '<tr><td colspan="5" class="empty-state"><p>No tickets submitted</p></td></tr>';
      return;
    }
    tbody.innerHTML = d.tickets.map(t => `<tr>
      <td style="font-weight:700;color:var(--accent)">${t.ticket_id}</td>
      <td style="font-weight:700;font-size:12px">${t.subject}</td>
      <td>${statusBadge(t.status)}</td>
      <td style="font-size:12px;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">${t.admin_reply||'‚Äî'}</td>
      <td style="color:var(--text-muted);font-size:12px">${fmtDate(t.created_at)}</td>
    </tr>`).join('');
  } catch(e){}
}

/* ============================================
   PROFILE UPDATE
   ============================================ */
document.getElementById('saveProfileBtn').addEventListener('click', async ()=>{
  const name = document.getElementById('editName').value.trim();
  const bio = document.getElementById('editBio').value.trim();
  try{
    await AUTH.api('/api/member/update-profile',{method:'POST',body:{name, bio}});
    notify('Profile updated!','success');
    memberData = null;
    loadDashboard();
  } catch(e){ notify(e.message||'Failed','error'); }
});

/* ============================================
   LOGOUT
   ============================================ */
document.getElementById('logoutBtn').addEventListener('click', ()=>{
  if(typeof FWF_Notify !== 'undefined'){
    FWF_Notify.confirm('Logout from your account?', async ()=>{
      await AUTH.api('/api/auth/logout',{method:'POST'});
      notify('Logged out','success');
      setTimeout(()=> location.href = '/', 1000);
    });
  } else {
    if(confirm('Logout?')){
      AUTH.api('/api/auth/logout',{method:'POST'}).finally(()=> location.href = '/');
    }
  }
});

/* ============================================
   INIT
   ============================================ */
loadDashboard();
</script>
</body>
</html>
